{% capture toc_headers %}
{%- if page.toc_headers != null && page.toc_headers != "" -%}
{{- page.toc_headers -}}
{% else %}
{{- "h2,h3,h4" -}}
{%- endif -%}
{% endcapture %}

<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: '{{ toc_headers }}' });

if ($('#toc').is(':empty')) { $('#toc').hide(); }

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click tap', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top;

  $(window).scrollTop(scroll_target - 110);
  return false
})

});
</script>

<div id="toc"></div>
